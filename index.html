<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video Player</title>
    <link rel="icon" href="favicon.png" type="image/x-icon" />
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <link href="libs/bootstrap-icons-1.11.3/bootstrap-icons.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
    <!-- subsrt library -->
    <script src="https://cdn.jsdelivr.net/npm/subsrt/dist/subsrt.min.js"></script>

    <script src="scripts/constants.js" defer></script>
    <script src="scripts/utils.js" defer></script>
    <script src="scripts/toast.js" defer></script>
    <script src="scripts/player.js" defer></script>
    <script src="scripts/main.js" defer></script>
  </head>
  <body>
    <div class="app container">
      <div class="screen input-screen">
        <h1 class="title">Video Player</h1>

        <label class="folder-input">
          <img src="assets/images/folder.png" />
          <span class="button">Choose folder</span>
          <span>or drag and drop a folder here</span>
          <input type="file" class="hidden" webkitdirectory directory multiple onchange="goHome(event.target.files)" />
        </label>

        <button class="theme-toggle" onclick="toggleTheme()">
          <i class="bi bi-moon"></i>
        </button>

        <div class="message">Please upload your videos, subtitles, and thumbnails with the same name for each set. Download this app to use it completely offline</div>
      </div>

      <div class="screen home-screen hidden">
        <h1 class="title">Video Player</h1>
        <div class="videos"></div>
      </div>

      <div class="screen player-screen hidden">
        <div class="player">
          <video controls></video>
        </div>

        <p class="title truncated">Video title</p>

        <div class="controls">
          <button onclick="goHome()">
            <i class="bi bi-house"></i>
          </button>

          <div class="control volume">
            <button onclick="Player.changeVolume()" class="volume-btn"><i class="bi bi-volume-down"></i> 50%</button>
            <div class="control-modal" onclick="blink(this)">
              <div class="modal-content">
                <button onclick="Player.changeVolume(25)">25%</button>
                <button onclick="Player.changeVolume(5)">50%</button>
                <button onclick="Player.changeVolume(75)">75%</button>
              </div>
            </div>
          </div>

          <div class="control rate">
            <button onclick="Player.changePlaybackRate()" class="rate-btn">1x</button>
            <div class="control-modal" onclick="blink(this)">
              <div class="modal-content">
                <button onclick="Player.changePlaybackRate(0.75)">0.75x</button>
                <button onclick="Player.changePlaybackRate(1)">1x</button>
                <button onclick="Player.changePlaybackRate(1.25)">1.25x</button>
              </div>
            </div>
          </div>

          <button onclick="Player.replay()">
            <i class="bi bi-arrow-counterclockwise"></i>
          </button>
        </div>
      </div>

      <div class="toast hidden"></div>
    </div>
  </body>
</html>
